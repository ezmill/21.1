(function(e,t){"use strict";function m(){if(n.READY){return}y.determineEventTypes();g.each(n.gestures,function(e){w.register(e)});y.onTouch(n.DOCUMENT,h,w.detect);y.onTouch(n.DOCUMENT,p,w.detect);n.READY=true}var n=function E(e,t){return new E.Instance(e,t||{})};n.VERSION="1.1.1";n.defaults={behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};n.DOCUMENT=e.document;n.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled;n.HAS_TOUCHEVENTS="ontouchstart"in e;n.CALCULATE_INTERVAL=50;var r={};var i=n.DIRECTION_DOWN="down";var s=n.DIRECTION_LEFT="left";var o=n.DIRECTION_UP="up";var u=n.DIRECTION_RIGHT="right";var a=n.POINTER_MOUSE="mouse";var f=n.POINTER_TOUCH="touch";var l=n.POINTER_PEN="pen";var c=n.EVENT_START="start";var h=n.EVENT_MOVE="move";var p=n.EVENT_END="end";var d=n.EVENT_RELEASE="release";var v=n.EVENT_TOUCH="touch";n.READY=false;n.plugins=n.plugins||{};n.gestures=n.gestures||{};var g=n.utils={extend:function(n,r,i){for(var s in r){if(n[s]!==t&&i||s=="returnValue"){continue}n[s]=r[s]}return n},on:function(t,n,r){t.addEventListener(n,r,false)},off:function(t,n,r){t.removeEventListener(n,r,false)},each:function(n,r,i){var s,o;if("forEach"in n){n.forEach(r,i)}else if(n.length!==t){for(s=0,o=n.length;s<o;s++){if(r.call(i,n[s],s,n)===false){return}}}else{for(s in n){if(n.hasOwnProperty(s)&&r.call(i,n[s],s,n)===false){return}}}},inStr:function(t,n){return t.indexOf(n)>-1},inArray:function(t,n){if(t.indexOf){var r=t.indexOf(n);return r===-1?false:r}else{for(var i=0,s=t.length;i<s;i++){if(t[i]===n){return i}}return false}},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,n){while(t){if(t==n){return true}t=t.parentNode}return false},getCenter:function(t){var n=[],r=[],i=[],s=[],o=Math.min,u=Math.max;if(t.length===1){return{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}}g.each(t,function(e){n.push(e.pageX);r.push(e.pageY);i.push(e.clientX);s.push(e.clientY)});return{pageX:(o.apply(Math,n)+u.apply(Math,n))/2,pageY:(o.apply(Math,r)+u.apply(Math,r))/2,clientX:(o.apply(Math,i)+u.apply(Math,i))/2,clientY:(o.apply(Math,s)+u.apply(Math,s))/2}},getVelocity:function(t,n,r){return{x:Math.abs(n/t)||0,y:Math.abs(r/t)||0}},getAngle:function(t,n){var r=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.atan2(i,r)*180/Math.PI},getDirection:function(t,n){var r=Math.abs(t.clientX-n.clientX),a=Math.abs(t.clientY-n.clientY);if(r>=a){return t.clientX-n.clientX>0?s:u}return t.clientY-n.clientY>0?o:i},getDistance:function(t,n){var r=n.clientX-t.clientX,i=n.clientY-t.clientY;return Math.sqrt(r*r+i*i)},getScale:function(t,n){if(t.length>=2&&n.length>=2){return this.getDistance(n[0],n[1])/this.getDistance(t[0],t[1])}return 1},getRotation:function(t,n){if(t.length>=2&&n.length>=2){return this.getAngle(n[1],n[0])-this.getAngle(t[1],t[0])}return 0},isVertical:function(t){return t==o||t==i},toggleBehavior:function(t,n,r){if(!n||!t||!t.style){return}g.each(["webkit","moz","Moz","ms","o",""],function(i){g.each(n,function(e,n){if(i){n=i+n.substring(0,1).toUpperCase()+n.substring(1)}if(n in t.style){t.style[n]=!r&&e}})});var i=function(){return false};if(n.userSelect=="none"){t.onselectstart=!r&&i}if(n.userDrag=="none"){t.ondragstart=!r&&i}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(e){return e[1].toUpperCase()})}};var y=n.event={preventMouseEvents:false,started:false,shouldDetect:false,on:function(t,n,r,i){var s=n.split(" ");g.each(s,function(e){g.on(t,e,r);i&&i(e)})},off:function(t,n,r,i){var s=n.split(" ");g.each(s,function(e){g.off(t,e,r);i&&i(e)})},onTouch:function(t,i,s){var o=this;var u=function(r){var u=r.type.toLowerCase(),a=n.HAS_POINTEREVENTS,f,l=g.inStr(u,"mouse");if(l&&o.preventMouseEvents){return}else if(l&&i==c){o.preventMouseEvents=false;o.shouldDetect=true}else if(i==c&&!l){o.preventMouseEvents=true;o.shouldDetect=true}if(a&&i!=p){b.updatePointer(i,r)}if(o.shouldDetect){f=o.doDetect.call(o,r,i,t,s)}if(f==p){o.preventMouseEvents=false;o.shouldDetect=false;b.reset()}else if(a&&i==p){b.updatePointer(i,r)}};this.on(t,r[i],u);return u},doDetect:function(t,n,r,i){var s=this.getTouchList(t,n);var o=s.length;var u=n;var a=s.trigger;var f=o;if(n==c){a=v}else if(n==p){a=d;f=s.length-(t.changedTouches?t.changedTouches.length:1)}if(f>0&&this.started){u=h}this.started=true;var l=this.collectEventData(r,u,s,t);if(n!=p){i.call(w,l)}if(a){l.changedLength=f;l.eventType=a;i.call(w,l);l.eventType=u;delete l.changedLength}if(u==p){i.call(w,l);this.started=false}return u},determineEventTypes:function(){var i;if(n.HAS_POINTEREVENTS){if(e.PointerEvent){i=["pointerdown","pointermove","pointerup pointercancel"]}else{i=["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel"]}}else{i=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}r[c]=i[0];r[h]=i[1];r[p]=i[2];return r},getTouchList:function(t,r){if(n.HAS_POINTEREVENTS){return b.getTouchList()}if(t.touches){if(r==h){return t.touches}var i=[];var s=[].concat(g.toArray(t.touches),g.toArray(t.changedTouches));var o=[];g.each(s,function(e){if(g.inArray(i,e.identifier)===false){o.push(e)}i.push(e.identifier)});return o}t.identifier=1;return[t]},collectEventData:function(t,n,r,i){var s=f;if(g.inStr(i.type,"mouse")||b.matchType(a,i)){s=a}return{center:g.getCenter(r),timeStamp:Date.now(),target:i.target,touches:r,eventType:n,pointerType:s,srcEvent:i,preventDefault:function(){var e=this.srcEvent;e.preventManipulation&&e.preventManipulation();e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return w.stopDetect()}}}};var b=n.PointerEvent={pointers:{},getTouchList:function(){var t=[];g.each(this.pointers,function(e){t.push(e)});return t},updatePointer:function(t,n){if(t==p){delete this.pointers[n.pointerId]}else{n.identifier=n.pointerId;this.pointers[n.pointerId]=n}},matchType:function(t,n){if(!n.pointerType){return false}var r=n.pointerType,i={};i[a]=r===(n.MSPOINTER_TYPE_MOUSE||a);i[f]=r===(n.MSPOINTER_TYPE_TOUCH||f);i[l]=r===(n.MSPOINTER_TYPE_PEN||l);return i[t]},reset:function(){this.pointers={}}};var w=n.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function(t,n){if(this.current){return}this.stopped=false;this.current={inst:t,startEvent:g.extend({},n),lastEvent:false,lastCalcEvent:false,futureCalcEvent:false,lastCalcData:{},name:""};this.detect(n)},detect:function(t){if(!this.current||this.stopped){return}t=this.extendEventData(t);var n=this.current.inst,r=n.options;g.each(this.gestures,function(i){if(!this.stopped&&n.enabled&&r[i.name]){if(i.handler.call(i,t,n)===false){this.stopDetect();return false}}},this);if(this.current){this.current.lastEvent=t}if(t.eventType==p){this.stopDetect()}return t},stopDetect:function(){this.previous=g.extend({},this.current);this.current=null;this.stopped=true},getCalculatedData:function(t,r,i,s,o){var u=this.current,a=false,f=u.lastCalcEvent,l=u.lastCalcData;if(f&&t.timeStamp-f.timeStamp>n.CALCULATE_INTERVAL){r=f.center;i=t.timeStamp-f.timeStamp;s=t.center.clientX-f.center.clientX;o=t.center.clientY-f.center.clientY;a=true}if(t.eventType==v||t.eventType==d){u.futureCalcEvent=t}if(!u.lastCalcEvent||a){l.velocity=g.getVelocity(i,s,o);l.angle=g.getAngle(r,t.center);l.direction=g.getDirection(r,t.center);u.lastCalcEvent=u.futureCalcEvent||t;u.futureCalcEvent=t}t.velocityX=l.velocity.x;t.velocityY=l.velocity.y;t.interimAngle=l.angle;t.interimDirection=l.direction},extendEventData:function(t){var n=this.current,r=n.startEvent,i=n.lastEvent||r;if(t.eventType==v||t.eventType==d){r.touches=[];g.each(t.touches,function(e){r.touches.push(g.extend({},e))})}var s=t.timeStamp-r.timeStamp,o=t.center.clientX-r.center.clientX,u=t.center.clientY-r.center.clientY;this.getCalculatedData(t,i.center,s,o,u);g.extend(t,{startEvent:r,deltaTime:s,deltaX:o,deltaY:u,distance:g.getDistance(r.center,t.center),angle:g.getAngle(r.center,t.center),direction:g.getDirection(r.center,t.center),scale:g.getScale(r.touches,t.touches),rotation:g.getRotation(r.touches,t.touches)});return t},register:function(r){var i=r.defaults||{};if(i[r.name]===t){i[r.name]=true}g.extend(n.defaults,i,true);r.index=r.index||1e3;this.gestures.push(r);this.gestures.sort(function(e,t){if(e.index<t.index){return-1}if(e.index>t.index){return 1}return 0});return this.gestures}};n.Instance=function(e,t){var r=this;m();this.element=e;this.enabled=true;g.each(t,function(e,n){delete t[n];t[g.toCamelCase(n)]=e});this.options=g.extend(g.extend({},n.defaults),t||{});if(this.options.behavior){g.toggleBehavior(this.element,this.options.behavior,false)}this.eventStartHandler=y.onTouch(e,c,function(e){if(r.enabled&&e.eventType==c){w.startDetect(r,e)}else if(e.eventType==v){w.detect(e)}});this.eventHandlers=[]};n.Instance.prototype={on:function(t,n){var r=this;y.on(r.element,t,n,function(e){r.eventHandlers.push({gesture:e,handler:n})});return r},off:function(t,n){var r=this;y.off(r.element,t,n,function(e){var t=g.inArray({gesture:e,handler:n});if(t!==false){r.eventHandlers.splice(t,1)}});return r},trigger:function(t,r){if(!r){r={}}var i=n.DOCUMENT.createEvent("Event");i.initEvent(t,true,true);i.gesture=r;var s=this.element;if(g.hasParent(r.target,s)){s=r.target}s.dispatchEvent(i);return this},enable:function(t){this.enabled=t;return this},dispose:function(){var t,n;if(this.options.behavior){g.toggleBehavior(this.element,this.options.behavior,true)}for(t=-1;n=this.eventHandlers[++t];){g.off(this.element,n.gesture,n.handler)}this.eventHandlers=[];y.off(this.element,r[c],this.eventStartHandler);return null}};(function(e){function r(n,r){var a=w.current;if(r.options.dragMaxTouches>0&&n.touches.length>r.options.dragMaxTouches){return}switch(n.eventType){case c:t=false;break;case h:if(n.distance<r.options.dragMinDistance&&a.name!=e){return}var f=a.startEvent.center;if(a.name!=e){a.name=e;if(r.options.dragDistanceCorrection&&n.distance>0){var l=Math.abs(r.options.dragMinDistance/n.distance);f.pageX+=n.deltaX*l;f.pageY+=n.deltaY*l;f.clientX+=n.deltaX*l;f.clientY+=n.deltaY*l;n=w.extendEventData(n)}}if(a.lastEvent.dragLockToAxis||r.options.dragLockToAxis&&r.options.dragLockMinDistance<=n.distance){n.dragLockToAxis=true}var v=a.lastEvent.direction;if(n.dragLockToAxis&&v!==n.direction){if(g.isVertical(v)){n.direction=n.deltaY<0?o:i}else{n.direction=n.deltaX<0?s:u}}if(!t){r.trigger(e+"start",n);t=true}r.trigger(e,n);r.trigger(e+n.direction,n);var m=g.isVertical(n.direction);if(r.options.dragBlockVertical&&m||r.options.dragBlockHorizontal&&!m){n.preventDefault()}break;case d:if(t&&n.changedLength<=r.options.dragMaxTouches){r.trigger(e+"end",n);t=false}break;case p:t=false;break}}var t=false;n.gestures.Drag={name:e,index:50,handler:r,defaults:{dragMinDistance:10,dragDistanceCorrection:true,dragMaxTouches:1,dragBlockHorizontal:false,dragBlockVertical:false,dragLockToAxis:false,dragLockMinDistance:25}}})("drag");n.gestures.Gesture={name:"gesture",index:1337,handler:function(t,n){n.trigger(this.name,t)}};(function(e){function r(n,r){var i=r.options,s=w.current;switch(n.eventType){case c:clearTimeout(t);s.name=e;t=setTimeout(function(){if(s&&s.name==e){r.trigger(e,n)}},i.holdTimeout);break;case h:if(n.distance>i.holdThreshold){clearTimeout(t)}break;case d:clearTimeout(t);break}}var t;n.gestures.Hold={name:e,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:r}})("hold");n.gestures.Release={name:"release",index:Infinity,handler:function(t,n){if(t.eventType==d){n.trigger(this.name,t)}}};n.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.7,swipeVelocityY:.6},handler:function(t,n){if(t.eventType==d){var r=t.touches.length,i=n.options;if(r<i.swipeMinTouches||r>i.swipeMaxTouches){return}if(t.velocityX>i.swipeVelocityX||t.velocityY>i.swipeVelocityY){n.trigger(this.name,t);n.trigger(this.name+t.direction,t)}}}};(function(e){function r(n,r){var i=r.options,s=w.current,o=w.previous,u,a;switch(n.eventType){case c:t=false;break;case h:t=t||n.distance>i.tapMaxDistance;break;case p:if(n.srcEvent.type!="touchcancel"&&n.deltaTime<i.tapMaxTime&&!t){u=o&&o.lastEvent&&n.timeStamp-o.lastEvent.timeStamp;a=false;if(o&&o.name==e&&u&&u<i.doubleTapInterval&&n.distance<i.doubleTapDistance){r.trigger("doubletap",n);a=true}if(!a||i.tapAlways){s.name=e;r.trigger(s.name,n)}}}}var t=false;n.gestures.Tap={name:e,index:100,handler:r,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:true,doubleTapDistance:20,doubleTapInterval:300}}})("tap");n.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:false,preventMouse:false},handler:function(t,n){if(n.options.preventMouse&&t.pointerType==a){t.stopDetect();return}if(n.options.preventDefault){t.preventDefault()}if(t.eventType==v){n.trigger("touch",t)}}};(function(e){function r(n,r){switch(n.eventType){case c:t=false;break;case h:if(n.touches.length<2){return}var i=Math.abs(1-n.scale);var s=Math.abs(n.rotation);if(i<r.options.transformMinScale&&s<r.options.transformMinRotation){return}w.current.name=e;if(!t){r.trigger(e+"start",n);t=true}r.trigger(e,n);if(s>r.options.transformMinRotation){r.trigger("rotate",n)}if(i>r.options.transformMinScale){r.trigger("pinch",n);r.trigger("pinch"+(n.scale<1?"in":"out"),n)}break;case d:if(t&&n.changedLength<2){r.trigger(e+"end",n);t=false}break}}var t=false;n.gestures.Transform={name:e,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:r}})("transform");if(typeof define=="function"&&define.amd){define(function(){return n})}else if(typeof module!=="undefined"&&module.exports){module.exports=n}else{e.Hammer=n}})(window)